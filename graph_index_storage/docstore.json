{"docstore/metadata": {"6c1da8af-5d22-41a6-90f7-ce6d19a004d7": {"doc_hash": "561d5860e3ccc84aaba6fd1601ca9afcc0c853393c5fce177ec391c918905de0"}, "38b2f0a3-d01c-4889-9691-e9a2dc16a2c2": {"doc_hash": "7bface0a360551aa0a7829d60b3b77eb293006d9ea7739172f2cf9fec85347a3", "ref_doc_id": "6c1da8af-5d22-41a6-90f7-ce6d19a004d7"}, "d4ab2ca4-91ef-40d6-9715-8d8c8dc5fcbf": {"doc_hash": "b7bc4377432e3bf1e541b1d87c0c63acee3bb6ff2e903e74d0d8a6d7e92cb9bd", "ref_doc_id": "6c1da8af-5d22-41a6-90f7-ce6d19a004d7"}, "1fbbbdf5-bda3-4646-be26-bef7265b3caa": {"doc_hash": "09f88ebfc4efd5ce4c66c87080724bad91f03af22a437172433984cd29578d10", "ref_doc_id": "6c1da8af-5d22-41a6-90f7-ce6d19a004d7"}, "271bc0c1-bc7d-4e9b-85fc-9380436cde08": {"doc_hash": "16ef2454c3acf95993e7c84b99e21ccd4ffbe8e43e669023b5a32614fa2d75c3", "ref_doc_id": "6c1da8af-5d22-41a6-90f7-ce6d19a004d7"}}, "docstore/data": {"38b2f0a3-d01c-4889-9691-e9a2dc16a2c2": {"__data__": {"id_": "38b2f0a3-d01c-4889-9691-e9a2dc16a2c2", "embedding": null, "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "6c1da8af-5d22-41a6-90f7-ce6d19a004d7", "node_type": "4", "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "hash": "561d5860e3ccc84aaba6fd1601ca9afcc0c853393c5fce177ec391c918905de0", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "d4ab2ca4-91ef-40d6-9715-8d8c8dc5fcbf", "node_type": "1", "metadata": {}, "hash": "63b5cc3e601478ef41100646b33edb99dd66377990b13e04a3d1c9fb23c6a465", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 13 \nTable 5. vSphere guest VM maximums (extract) \nMaximums \nESXi 7.0 U2 and later \nESXi 8.0 U1 and later \nVirtual VM hardware version [1] \n19 \n21 \nVirtual CPUs per VM  \nUp to 768 \nRAM per VM \nUp to 24TB \nCPU sockets per SAP HANA VM \n<= 8 \nRAM per SAP HANA VM \n<= 12TB \nVirtual SCSI adapters per VM \n4 \nVirtual NVMe adapters per VM \n4 \nVirtual disk size \n62TB \nVirtual NICs per VM \n10 \nPersistent Memory per SAP HANA VM \n<= 12TB \nNot supported \n\u00db [1] Review the Hardware Features Available with Virtual Machine Compatibility Settings web page for a detailed list of the \nguest hardware capacities. You must use hardware version 21 for VMs on (or migrated to) Sapphire Rapids hosts. \nDeployment options and considerations \nReference architecture diagram \nThe following figure shows an overview of a typical VMware software-defined data center (SDDC) for SAP \napplications. At the center of a VMware SDDC is VMware Cloud Foundation, which includes vSphere, vSAN, and \nNSX. VCF has VI Workload Domains\u2014each Workload Domain is a logical unit of application-ready infrastructure \nthat groups ESXi hosts managed by a vCenter Server instance with specific characteristics according to VMware \nrecommended practices.   \nThe figure shows the preferred VCF design for non-SAP HANA database VMs and SAP HANA with separate VCF \nVI Workload Domains. (You can include an optional, isolated VI Workload Domain.) Each VI Workload Domain \nhas a dedicated NSX Manager cluster to provide the benefits of flexible lifecycle management, which includes the \noption to run different VCF software stack versions across the different VI Workload Domains. A VI Workload \nDomain can consist of one or more vSphere clusters provisioned by the SDDC Manager. \nThe red and blue VI Workload Domains are examples of SAP HANA Workload Domains with different storage \ntypes. The grey VI Workload Domain is an example of mixed SAP and non-SAP application Workload Domains \nwith different SLAs/requirements, like ESXi hosts that are not SAP HANA-certified.  \n\nSAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 14 \nFigure 2. VMware Cloud Foundation for SAP applications \n \nThe next table provides an overview of the different Workload Domain types (WLDs) and how best to leverage \nthese for SAP and non-SAP VMs/applications. \nA VI Workload Domain (VI WLD) shares a vCenter single sign-on domain and the identity provider configuration \nwith the Management Domain. You can manage all VI WLDs through a single pane of glass. \nA VI WLD can share an NSX Manager instance with other VI WLDs. We recommend a dedicated NSX Manager \nper VI WLD for easier and more flexible lifecycle management. \nSmall and medium SAP deployments could consolidate SAP HANA and non-SAP HANA database VM workloads \ninto a single VCF VI WLD with one or more vSphere cluster configurations to reduce the required hardware \nfootprint, but this would lose the lifecycle management flexibility between different SAP workloads.  \nLarger deployments with SAP HANA systems with different operation, hardware, and SLA requirements should \nnot share a VI WLD/cluster with non-SAP HANA VMs. Running these VMs in a dedicated SAP HANA VI \nWLD/cluster eases lifecycle management and ensures the correct cluster-wide settings for features like HA, DRS, \nand EVC.  \nAn isolated VI WLD is another option for a distinct vCenter single sign-on domain; this requires an identity \nprovider configuration. VI WLDs of this type cannot yet share an NSX Manager instance with other VI WLDs and, \ntherefore, need a dedicated NSX Manager instance. This allows the independent lifecycle management of \nisolated VI WLDs and is recommended when strict isolation of user and business data is required.", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 3776, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "d4ab2ca4-91ef-40d6-9715-8d8c8dc5fcbf": {"__data__": {"id_": "d4ab2ca4-91ef-40d6-9715-8d8c8dc5fcbf", "embedding": null, "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "6c1da8af-5d22-41a6-90f7-ce6d19a004d7", "node_type": "4", "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "hash": "561d5860e3ccc84aaba6fd1601ca9afcc0c853393c5fce177ec391c918905de0", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "38b2f0a3-d01c-4889-9691-e9a2dc16a2c2", "node_type": "1", "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "hash": "7bface0a360551aa0a7829d60b3b77eb293006d9ea7739172f2cf9fec85347a3", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "1fbbbdf5-bda3-4646-be26-bef7265b3caa", "node_type": "1", "metadata": {}, "hash": "5e5bdd79dbcbcd740bf8b2a9a426932e7109f3b7e974031fc98c908032f7d10e", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "Larger deployments with SAP HANA systems with different operation, hardware, and SLA requirements should \nnot share a VI WLD/cluster with non-SAP HANA VMs. Running these VMs in a dedicated SAP HANA VI \nWLD/cluster eases lifecycle management and ensures the correct cluster-wide settings for features like HA, DRS, \nand EVC.  \nAn isolated VI WLD is another option for a distinct vCenter single sign-on domain; this requires an identity \nprovider configuration. VI WLDs of this type cannot yet share an NSX Manager instance with other VI WLDs and, \ntherefore, need a dedicated NSX Manager instance. This allows the independent lifecycle management of \nisolated VI WLDs and is recommended when strict isolation of user and business data is required. \n \n \n\nSAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 15 \nSmall SAP deployments could leverage the consolidated VCF architecture model, which consolidates the VCF \nManagement components (vCenter, NSX Manager, and SDDC Manager) and all SAP workloads (non-SAP HANA \ndatabase VMs and SAP HANA) with the lowest possible hardware footprint, but this loses the lifecycle \nmanagement flexibility between the VCF Management Domain and the VI WLD running the different SAP \nworkloads. If you want to deploy SAP HANA production-level VMs in a consolidated WLD, you must ensure these \nSAP HANA VMs run on SAP HANA TDI-supported systems and do not share a NUMA node with a non-SAP \nHANA VM. We advise configuring dedicated vSphere clusters to manage VCF VMs and workload VMs. For a \nconsolidated WLD, we recommend separate cluster-wide settings for management and SAP NetWeaver/SAP \nHANA hosts.  \nNote: Every vSphere cluster requires at least 2 embedded vCLS VMs or 3 external vCLS VMs. A cluster allows \ndifferent cluster-wide settings; however, we recommend you add non-SAP HANA hosts to an SAP HANA cluster \nto offload the vCLS VMs.  \nTable 6. VMware Cloud Foundation Management and VI Workload Domain types and use cases \nVCF Management Domain \nFirst domain deployed, runs on dedicated ESXi hosts  \n(min. 4) \nContains the following management appliances for all \nWorkload Domains: \n\u2022 vCenter Server \n\u2022 NSX Manager \n\u2022 SDDC Manager \n\u2022 Optional: VMware Aria Suite components, Management \nDomain NSX Edge nodes \nThe VI WLD vCenter and NSX Manager VMs are installed on \nthe Management Domain hosts. \nDepending on the Workload Domain type, you can scale \nfrom 14 to 24 VI WLDs. A total of 1000 ESXi hosts are \nsupported per VCF instance following the VCF standard \narchitecture, where a single VI WLD can scale up to 800 \nESXi hosts and up to 4000 registered VMs. \nA single VCF instance can have multiple availability zones (a \nstretched deployment). \n \n \n \n \n \n \n \n \n \n\nSAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 16 \nConsolidated VCF SAP Domain \nRepresents a Management Domain that also runs customer \nworkloads. It's limited to 100 hosts per consolidated VI \nWLD. \nUses resource pools to ensure sufficient resources for \nmanagement components. \nConsiders the minimum possible initial hardware and \nmanagement component footprint (min. 4 hosts). Only with \nvSAN and SAP HANA HCI certified hosts and the listed \nconfigurations for CPU, memory, and storage. \nCan be scaled to a standard architecture model. \nManagement components and customer workloads are \nnot isolated. \nSAP HANA production-level workloads must not run on \nthe hosts that run the management components or non-\nSAP HANA VMs. \nThis is an option for small deployments or test and dev \nenvironments. Add HANA dedicated hosts as required if \nyou want to deploy production-level SAP HANA VMs. \n \nSAP/SAP HANA VI Workload Domain \nRepresents an additional Workload Domain for running \ncustomer workloads. Can scale up to 14 VI Workload \nDomains per VCF instance. \nShares a vCenter single sign-on domain and the identity \nprovider configuration with the Management Domain. All \nWorkload Domains can be managed through a single \npane of glass. Can share an NSX Manager instance with \nother VI Workload Domains. A dedicated NSX Manager per \nVI WLD is recommended for easier lifecycle management. \nAllows for independent life cycle management of the \ndifferent VI WLDs.", "mimetype": "text/plain", "start_char_idx": 3030, "end_char_idx": 7219, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "1fbbbdf5-bda3-4646-be26-bef7265b3caa": {"__data__": {"id_": "1fbbbdf5-bda3-4646-be26-bef7265b3caa", "embedding": null, "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "6c1da8af-5d22-41a6-90f7-ce6d19a004d7", "node_type": "4", "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "hash": "561d5860e3ccc84aaba6fd1601ca9afcc0c853393c5fce177ec391c918905de0", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "d4ab2ca4-91ef-40d6-9715-8d8c8dc5fcbf", "node_type": "1", "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "hash": "b7bc4377432e3bf1e541b1d87c0c63acee3bb6ff2e903e74d0d8a6d7e92cb9bd", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "271bc0c1-bc7d-4e9b-85fc-9380436cde08", "node_type": "1", "metadata": {}, "hash": "b9fc9b1ab580d48fddc8cd87967cdb78d3aba532ca103c43df454b18972e8664", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA production-level workloads must not run on \nthe hosts that run the management components or non-\nSAP HANA VMs. \nThis is an option for small deployments or test and dev \nenvironments. Add HANA dedicated hosts as required if \nyou want to deploy production-level SAP HANA VMs. \n \nSAP/SAP HANA VI Workload Domain \nRepresents an additional Workload Domain for running \ncustomer workloads. Can scale up to 14 VI Workload \nDomains per VCF instance. \nShares a vCenter single sign-on domain and the identity \nprovider configuration with the Management Domain. All \nWorkload Domains can be managed through a single \npane of glass. Can share an NSX Manager instance with \nother VI Workload Domains. A dedicated NSX Manager per \nVI WLD is recommended for easier lifecycle management. \nAllows for independent life cycle management of the \ndifferent VI WLDs. \nThis Workload Domain type cannot provide distinct vCenter \nsingle sign-on domains for customer workloads. For this, an \nisolated VI WLD is required. \nIf SAP applications are deployed, only SAP-supported \nhosts can be used. SAP HANA hosts must also be SAP \nHANA TDI-supported systems and are limited to 2-, 4-, or \n8-socket ESXi hosts with validated Intel CPUs. \nThis Workload Domain type cannot provide distinct vCenter \nsingle sign-on domains for customer workloads. For this, an \nisolated VI WLD is required. \n \n \n\nSAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 17 \nIf SAP applications are deployed, then only SAP-\nsupported hosts can be used. SAP HANA hosts must also \nbe SAP HANA TDI supported systems and are limited to 2-, \n4- and 8-socket ESXi hosts with validated Intel CPUs. VM \nmaximum host size: \u2264 12TB and 480 vCPUs per single SAP \nHANA scale-up VM. The smallest size is 0.5 socket with \n128GB RAM. Scale-out deployment: VM must be \u2265 4 \nsockets, maximum 8 sockets, VM vRAM up to 6TB per VM \ndepending on the use. Maximum 8 hosts + HA for a total \nsize of 48TB. For shared ESXi or VM connected SAN or NAS \nstorage w/o vVOLs, the storage must meet HANA KPIs. HCI \ncertified hosts are required when vSAN is used. SAN or NAS \ndeployments require min. 2 hosts; vSAN systems require \nmin. 3 hosts. \nSAP NetWeaver and SAP HANA hosts can run consolidated \nin a VI WLD if the same SLAs and lifecycle management \nrequirements exist. If not, then use dedicated VI WLDs for \nSAP HANA and NetWeaver or AnyApp. \nSAP/SAP HANA Isolated VI WLD \nRepresents an additional Workload Domain for running \ncustomer workloads. Can scale up to 24 VI Workload \nDomains per VCF instance \nHas a distinct vCenter single sign-on domain and identity \nprovider configuration. Workload domain vCenter Server \ninstances are managed through different panes of glass. \nCan provide distinct vCenter single sign-on domains for \ncustomer workloads. \nWorkload domains of this type cannot share an NSX \nManager instance with other VI Workload Domains. \nAllows for independent life cycle management of the \nisolated VI WLDs and is the recommended option when a \nstrict isolation of user and business data is required. \nIf SAP applications are deployed, then only SAP-\nsupported hosts can be used. SAP HANA hosts must also \nbe SAP HANA TDI supported systems and are limited to 2-, \n4-, and 8-socket ESXi hosts with validated Intel CPUs.  \nVM maximum host size: \u2264 12TB and 480 vCPUs per single \nSAP HANA scale-up VM. Smallest size is 0.5 socket with \n128GB RAM.  \nScale-out deployment: VM must be \u2265 4 sockets, maximum 8 \nsockets, VM vRAM up to 6TB per VM depending on the use. \nMaximum 8 hosts + HA for a total size of 48TB.  \n \n\nSAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 18 \nFor shared ESXi or VM-connected SAN or NAS storage w/o \nvVOLs, the storage must meet HANA KPIs. HCI certified \nhosts are required when vSAN is used.", "mimetype": "text/plain", "start_char_idx": 6366, "end_char_idx": 10145, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}, "271bc0c1-bc7d-4e9b-85fc-9380436cde08": {"__data__": {"id_": "271bc0c1-bc7d-4e9b-85fc-9380436cde08", "embedding": null, "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "6c1da8af-5d22-41a6-90f7-ce6d19a004d7", "node_type": "4", "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "hash": "561d5860e3ccc84aaba6fd1601ca9afcc0c853393c5fce177ec391c918905de0", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "1fbbbdf5-bda3-4646-be26-bef7265b3caa", "node_type": "1", "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}, "hash": "09f88ebfc4efd5ce4c66c87080724bad91f03af22a437172433984cd29578d10", "class_name": "RelatedNodeInfo"}}, "metadata_template": "{key}: {value}", "metadata_separator": "\n", "text": "SAP HANA hosts must also \nbe SAP HANA TDI supported systems and are limited to 2-, \n4-, and 8-socket ESXi hosts with validated Intel CPUs.  \nVM maximum host size: \u2264 12TB and 480 vCPUs per single \nSAP HANA scale-up VM. Smallest size is 0.5 socket with \n128GB RAM.  \nScale-out deployment: VM must be \u2265 4 sockets, maximum 8 \nsockets, VM vRAM up to 6TB per VM depending on the use. \nMaximum 8 hosts + HA for a total size of 48TB.  \n \n\nSAP HANA on VMware vSphere Best Practices \nTECHNICAL PAPER | 18 \nFor shared ESXi or VM-connected SAN or NAS storage w/o \nvVOLs, the storage must meet HANA KPIs. HCI certified \nhosts are required when vSAN is used.  \nSAP NetWeaver and SAP HANA hosts can run consolidated \nin a VI WLD if the same SLAs and lifecycle management \nrequitements exist. If not, then use dedicated VI WLDs for \nSAP HANA and NetWeaver or AnyApp. \n \nDepending on the Workload Domain type, you can scale from 14 (ELM) to 24 (isolated) VI WLDs. Refer to \nMaximums and Configuration Limitations, VCF Deployment Options (for example, deployments in multiple \navailability zones), and vSphere Design for VMware Cloud Foundation. \nIn total, 1000 ESXi hosts are supported per VCF instance following the VCF standard architecture, where a single \nVI WLD can scale up to 800 ESXi hosts and up to 4000 registered VMs.  \nAs shown in the figure and table above, the VI WLD vCenter and the NSX Manager VMs are installed in the VCF \nManagement Domain among the vCenter and the NSX Manager VMs to manage the VCF Management Domain.  \nReview the Maximums and configuration limitations and VCF Deployment Options (for example, deployments in \nmultiple availability zones for configuration details). \nAs previously explained, virtualized SAP HANA systems are currently supported on VMware vSphere with up to \n448 vCPUs and 12 TB RAM per VM on Intel Cascade / Cooper Lake and with up to 480 vCPUs and 8 TB on Intel \nSapphire Rapids systems; the vSphere 7.0 U2 and vSphere 8.0 U1 VM guest limits are 768 vCPUs and 24 TB per \nVM. Only the ESXi host systems shown in table 2 are validated on SAP HANA. \nNote: The following may limit the maximum number of vCPUs and vRAM available for a VM:  \n\u2022 \nThe selected CPU type \n\u2022 \nThe virtualized SAP HANA workload type (OLTP or OLAP) \n\u2022 \nAn SAP HANA use case of network-heavy OLTP workloads with thousands of concurrent users, which may be \nrequired to reserve CPU threads to handle such an intensive network load. \n\u2022 \nThe implemented design options in VCF, like vSAN or NSX networking and security features, will reduce the \navailable memory per SAP HANA VM. \nLarger SAP HANA systems can leverage SAP HANA extension nodes or be deployed as SAP HANA scale-out \nconfigurations. In a scale-out configuration, up to 16 nodes (more upon SAP approval) work together to provide \nlarger memory configurations. A scale-out SAP HANA node\u2019s memory size depends on the selected CPU \ngeneration, and 4- or 8-socket systems with memory sizes per host and up to 6TB can be chosen. Refer to the \nrelevant SAP Notes (3102813 and 3372365) for detailed information on supported host configurations. In addition, \nthe SAP HANA on vSphere SAP Help Portal page provides an overview of supported configurations and is a \ngood starting point.", "mimetype": "text/plain", "start_char_idx": 9501, "end_char_idx": 12742, "metadata_seperator": "\n", "text_template": "{metadata_str}\n\n{content}", "class_name": "TextNode"}, "__type__": "1"}}, "docstore/ref_doc_info": {"6c1da8af-5d22-41a6-90f7-ce6d19a004d7": {"node_ids": ["38b2f0a3-d01c-4889-9691-e9a2dc16a2c2", "d4ab2ca4-91ef-40d6-9715-8d8c8dc5fcbf", "1fbbbdf5-bda3-4646-be26-bef7265b3caa", "271bc0c1-bc7d-4e9b-85fc-9380436cde08"], "metadata": {"source": "/workspace/OllamaGraphRAGPoC/input-dir/split_5.pdf"}}}}